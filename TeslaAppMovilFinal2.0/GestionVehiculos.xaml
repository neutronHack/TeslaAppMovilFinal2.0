<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TeslaAppMovilFinal2._0.GestionVehiculos"
             BackgroundColor="White"
             Title="Administración Tesla">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Button Text="Cerrar sesión"
                    BackgroundColor="#E53935"
                    TextColor="White"
                    FontAttributes="Bold"
                    Clicked="CerrarSesionClicked" />

            <Label Text="Gestión de Vehículos Tesla"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="#222"
                   HorizontalOptions="Center" />

            <Label x:Name="FormularioTitulo"
                   Text="Agregar Vehículo"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="#444"
                   HorizontalOptions="Center" />

            <Frame CornerRadius="20" BackgroundColor="#F0F0F0" Padding="20" HasShadow="True">
                <VerticalStackLayout Spacing="12">
                    <Entry x:Name="CodigoEntry" Placeholder="Código" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="MarcaEntry" Placeholder="Marca" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="ModeloEntry" Placeholder="Modelo" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="AñoEntry" Placeholder="Año" Keyboard="Numeric" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="PrecioEntry" Placeholder="Precio" Keyboard="Numeric" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="KilometrajeEntry" Placeholder="Kilometraje" Keyboard="Numeric" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="EstadoEntry" Placeholder="Estado" PlaceholderColor="#999" TextColor="Black"/>
                    <Entry x:Name="EnlaceImagenEntry" Placeholder="Enlace de la imagen" PlaceholderColor="#999" TextColor="Black"/>

                    <Button x:Name="GuardarButton"
                            Text="Agregar Vehículo"
                            BackgroundColor="#007AFF"
                            TextColor="White"
                            CornerRadius="10"
                            FontAttributes="Bold"
                            Clicked="GuardarVehiculo" />
                </VerticalStackLayout>
            </Frame>

            <Label Text="Lista de Vehículos"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="#222" />

            <CollectionView x:Name="VehiculosCollectionView">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame CornerRadius="15" BackgroundColor="#F7F7F7" Margin="0,10" Padding="15">
                            <VerticalStackLayout Spacing="8">
                                <Image Source="{Binding ImagenUrl}" HeightRequest="200" Aspect="AspectFill" HorizontalOptions="Center"/>

                                <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto" RowSpacing="6">
                                    <Label Grid.Row="0" Grid.Column="0" Text="Código:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="0" Grid.Column="1" Text="{Binding Codigo}" TextColor="#222"/>

                                    <Label Grid.Row="1" Grid.Column="0" Text="Marca:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="1" Grid.Column="1" Text="{Binding Marca}" TextColor="#222"/>

                                    <Label Grid.Row="2" Grid.Column="0" Text="Modelo:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="2" Grid.Column="1" Text="{Binding Modelo}" TextColor="#222"/>

                                    <Label Grid.Row="3" Grid.Column="0" Text="Año:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="3" Grid.Column="1" Text="{Binding Año}" TextColor="#222"/>

                                    <Label Grid.Row="4" Grid.Column="0" Text="Precio:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="4" Grid.Column="1" Text="{Binding Precio}" TextColor="#222"/>

                                    <Label Grid.Row="5" Grid.Column="0" Text="Kilometraje:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="5" Grid.Column="1" Text="{Binding Kilometraje}" TextColor="#222"/>

                                    <Label Grid.Row="6" Grid.Column="0" Text="Estado:" FontAttributes="Bold" TextColor="#444"/>
                                    <Label Grid.Row="6" Grid.Column="1" Text="{Binding Estado}" TextColor="#222"/>
                                </Grid>

                                <HorizontalStackLayout Spacing="10" Margin="0,10,0,0" HorizontalOptions="Center">
                                    <Button Text="Editar" BackgroundColor="#FFD60A" TextColor="#000" Clicked="OnEditarVehiculoClicked"/>
                                    <Button Text="Eliminar" BackgroundColor="#FF3B30" TextColor="White" Clicked="OnEliminarVehiculoClicked"/>
                                </HorizontalStackLayout>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>