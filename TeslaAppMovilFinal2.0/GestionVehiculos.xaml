<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TeslaAppMovilFinal2._0.GestionVehiculos"
             BackgroundColor="#0F0F0F"
             Title="Administración Tesla">

	<ScrollView>

        

        <VerticalStackLayout Padding="20" Spacing="20">
            
            <Button Text="Cerrar sesión"
            BackgroundColor="Red"
            TextColor="black"
            FontAttributes="Bold"
            Clicked="CerrarSesionClicked"/>    

		
			<Label Text="Gestión de Vehículos Tesla"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"/>

            <Label x:Name="FormularioTitulo" 
               Text="Agregar Vehículo" 
               FontSize="20"
               FontAttributes="Bold"
               TextColor="White"
               HorizontalOptions="Center" />


            <Frame CornerRadius="20" BackgroundColor="#1C1C1E" Padding="20" HasShadow="True">
				<VerticalStackLayout Spacing="12">
					<Entry x:Name="CodigoEntry" Placeholder="Código" TextColor="White" PlaceholderColor="#888"/>
					<Entry x:Name="MarcaEntry" Placeholder="Marca" TextColor="White" PlaceholderColor="#888"/>
					<Entry x:Name="ModeloEntry" Placeholder="Modelo" TextColor="White" PlaceholderColor="#888"/>
					<Entry x:Name="AñoEntry" Placeholder="Año" Keyboard="Numeric" TextColor="White" PlaceholderColor="#888"/>
					<Entry x:Name="PrecioEntry" Placeholder="Precio" Keyboard="Numeric" TextColor="White" PlaceholderColor="#888"/>
					<Entry x:Name="KilometrajeEntry" Placeholder="Kilometraje" Keyboard="Numeric" TextColor="White" PlaceholderColor="#888"/>
                    <Entry x:Name="EstadoEntry" Placeholder="Estado"  TextColor="White" PlaceholderColor="#888"/>

                    <Entry x:Name="EnlaceImagenEntry" Placeholder="Enlace de la imagen" />


                    <Button x:Name="GuardarButton"
                        Text="Agregar Vehículo"
                        BackgroundColor="#007AFF"
                        TextColor="White"
                        CornerRadius="10"
                        FontAttributes="Bold"
                        Clicked="GuardarVehiculo"/>

                </VerticalStackLayout>
			</Frame>

			
			<Label Text="Lista de Vehículos"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="White"/>

			<CollectionView x:Name="VehiculosCollectionView">
				<CollectionView.ItemTemplate>
					<DataTemplate>
						<Frame CornerRadius="15" BackgroundColor="#1C1C1E" Margin="50">
							<VerticalStackLayout Padding="10" Spacing="8">
                                <Image Source="{Binding ImagenUrl}" HeightRequest="350" WidthRequest="750"
                                       Aspect="AspectFit" HorizontalOptions="Fill"/>

                                <BoxView HeightRequest="1" BackgroundColor="#272727" HorizontalOptions="Center"/>

                                <Label FontSize="20" HorizontalOptions="Center" TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span  FontAttributes="Bold" Text="Código: "/>
                                            <Span Text="{Binding Codigo}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Marca: " />
                                            <Span Text="{Binding Marca}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Modelo: " />
                                            <Span Text="{Binding Modelo}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Año: " />
                                            <Span Text="{Binding Año}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Precio: $" />
                                            <Span Text="{Binding Precio}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Kilometraje: " />
                                            <Span Text="{Binding Kilometraje}" />
                                            <Span Text=" km" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#272727" />

                                <Label TextColor="White">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span FontAttributes="Bold" Text="Estado: " />
                                            <Span Text="{Binding Estado}" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>

                                <BoxView HeightRequest="0.5" BackgroundColor="#484646" />
                                <!--<Image Source="{Binding ImagenUrl}" HeightRequest="400" WidthRequest="750" Aspect="AspectFill"/>
								<Label Text="{Binding Codigo}" FontAttributes="Bold" FontSize="18" TextColor="White"/>
								<Label Text="{Binding Marca}" TextColor="White"/>
								<Label Text="{Binding Modelo}" TextColor="White"/>
								<Label Text="{Binding Año}" TextColor="White"/>
								<Label Text="{Binding Precio}" TextColor="White"/>
								<Label Text="{Binding Kilometraje}" TextColor="White"/>
								<Label Text="{Binding Estado}" TextColor="White"/>-->

								<HorizontalStackLayout Spacing="10" Margin="0,10,0,0">
									<Button Text="Editar" BackgroundColor="#FFD60A" TextColor="#000" Clicked="OnEditarVehiculoClicked"/>
									<Button Text="Eliminar" BackgroundColor="#FF453A" TextColor="White" Clicked="OnEliminarVehiculoClicked"/>
								</HorizontalStackLayout>
							</VerticalStackLayout>
						</Frame>
					</DataTemplate>
				</CollectionView.ItemTemplate>
			</CollectionView>

		</VerticalStackLayout>
	</ScrollView>
</ContentPage>