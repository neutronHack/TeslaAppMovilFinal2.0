<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:model="clr-namespace:TeslaAppMovilFinal2._0.Models"
             x:Class="TeslaAppMovilFinal2._0.MainPage"
             BackgroundColor="#F0F0F0">

    <ContentPage.Background>
        <LinearGradientBrush EndPoint="0,1">
            <GradientStop Color="#f0f0f0" Offset="0.0" />
            <GradientStop Color="#dcdcdc" Offset="1.0" />
        </LinearGradientBrush>
    </ContentPage.Background>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="10">

            <!-- User Info (opcional) -->
            <Grid x:Name="UserInfoBar" Padding="10" BackgroundColor="#007AFF" IsVisible="False">
                <Label x:Name="UserInfoLabel" TextColor="White" FontSize="14" />
            </Grid>

            <!-- Lista de Vehículos -->
            <CollectionView x:Name="VehiculosView" ItemsLayout="VerticalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0,10"
                           Padding="20"
                           CornerRadius="20"
                           HasShadow="True"
                           BackgroundColor="White">

                            <Grid ColumnDefinitions="*, Auto" ColumnSpacing="15" VerticalOptions="Center">
                                <!-- Datos a la izquierda -->
                                <VerticalStackLayout Spacing="4" VerticalOptions="Center">
                                    <Label Text="{Binding Modelo}" FontSize="18" FontAttributes="Bold" TextColor="Black"/>
                                    <Label Text="{Binding Autonomia}" FontSize="13" TextColor="#555"/>
                                    <Label Text="{Binding Aceleracion}" FontSize="13" TextColor="#555"/>
                                    <Label Text="{Binding Velocidad}" FontSize="13" TextColor="#555"/>

                                    <!-- Botón alineado a la izquierda -->
                                    <Button Text="Ordenar"
                                BackgroundColor="#007AFF"
                                TextColor="White"
                                FontAttributes="Bold"
                                CornerRadius="12"
                                HeightRequest="40"
                                WidthRequest="110"
                                HorizontalOptions="Start"
                                Margin="0,10,0,0"
                                Clicked="OnOrdenarClicked" />
                                </VerticalStackLayout>

                                <!-- Imagen del vehículo -->
                                <ImageButton Source="{Binding ImagenUrl}"
                                     HeightRequest="100"
                                     WidthRequest="170"
                                     BackgroundColor="Transparent"
                                     Aspect="AspectFit"
                                     Clicked="OnImageTapped"
                                     HorizontalOptions="End"
                                     VerticalOptions="Center"/>

                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
